<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: userComponents/Signup.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: userComponents/Signup.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file Manages the signup component.
 */

import React from 'react';
import { Link, withRouter } from 'react-router';
import $ from 'jquery';

const util = require('../util.js');

/**
 * Creates a new Signup Component.
 * @class
 */
class Signup extends React.Component {
  constructor(props) {
    super(props);
    this.submitFn = this.submitFn.bind(this);
    this.componentDidMount = this.componentDidMount.bind(this);
    this.onUsernameChange = this.onUsernameChange.bind(this);
    this.onPasswordChange = this.onPasswordChange.bind(this);
    util.signOut();
  }

  onUsernameChange(event) {
    this.setState({ username: event.target.value });
  }

  onPasswordChange(event) {
    this.setState({ password: event.target.value });
  }

  componentDidMount() {
    /** Makes pressing enter on any input box click submit */
    $('input').each(function () {
      $(this).keypress((e) => {
        if (e.which === 13) {
          $('#signin').click();
        }
      });
    });
  }

  submitFn() {
    /** Grab username and password values from fields */
    const username = this.state.username;
    const password = this.state.password;

    this.setState({username:'', password:''});

    /** Submit username and password for verification and creation */
    $.post({
      url: '/api/signup',
      dataType: 'json',
      data: { username, password },
      success: (data) => {
        console.log('Success', data);
        util.storeToken(data);
        this.props.router.push('/');
      },
      error: (error) => {
        console.error(error);
        $('.error').show();
      },
    });
  }

  /** Render signup page */
  render() {
    return (
      &lt;div className="signup">
        &lt;h1 className="signuph1"> HackerWords &lt;/h1>
        &lt;div className="signuptitle"> Signup &lt;/div>
        &lt;label htmlFor="username" className="signuplabel">Username &lt;/label>
        &lt;input type="text" id="username" name="username" className="signupform" onChange={(event) => this.onUsernameChange(event)}/>
        &lt;br />
        &lt;label htmlFor="password" className="signuplabel"> Password &lt;/label>
        &lt;input type="password"id="password" name="password" className="signupform" onChange={(event) => this.onPasswordChange(event)}/>
        &lt;br />
        &lt;br />
        &lt;br />
        &lt;input type="button" id="signup" value="Signup" onClick={this.submitFn} className="signupform signupbutton" />
        &lt;br />
        &lt;br />
        &lt;br />
        &lt;br />
        Have an account?
        &lt;Link to="/signin"> Sign in here&lt;/Link>
        &lt;h2 className="error"> Username already exists! &lt;/h2>
      &lt;/div>
    );
  }
}

export default withRouter(Signup, { withRef: true });
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="App.html">App</a></li><li><a href="Challenges.html">Challenges</a></li><li><a href="GameHistory.html">GameHistory</a></li><li><a href="Lobby.html">Lobby</a></li><li><a href="module.exports.html">exports</a></li><li><a href="Players.html">Players</a></li><li><a href="Signin.html">Signin</a></li><li><a href="Signup.html">Signup</a></li></ul><h3>Global</h3><ul><li><a href="global.html#getToken">getToken</a></li><li><a href="global.html#render">render</a></li><li><a href="global.html#signOut">signOut</a></li><li><a href="global.html#storeToken">storeToken</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.2</a> on Sun Oct 30 2016 11:37:17 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
